<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Histórico de Análises</title>
    <script src="https://cdn.tailwindcss.com" defer></script>
    <link rel="stylesheet" href="/style.css">
</head>
<body class="p-4">
    <h1 class="text-2xl font-semibold mb-4">Histórico de Análises</h1>
    <div id="table" class="overflow-auto"></div>
<script>
async function load(){
    const resp = await fetch('/history/data');
    const data = await resp.json();
    let html = '<table class="min-w-full text-sm"><thead><tr>'+
        '<th class="border px-2 py-1">Arquivo</th>'+
        '<th class="border px-2 py-1">Variável</th>'+
        '<th class="border px-2 py-1">Algoritmo</th>'+
        '<th class="border px-2 py-1">R²</th>'+
        '<th class="border px-2 py-1">Data/Hora</th>'+
        '</tr></thead><tbody>';
    data.forEach(d=>{html += `<tr><td class="border px-2 py-1">${d.file}</td><td class="border px-2 py-1">${d.target}</td><td class="border px-2 py-1">${d.algorithm}</td><td class="border px-2 py-1">${d.r2}</td><td class="border px-2 py-1">${d.datetime}</td></tr>`});
    html += '</tbody></table>';
    document.getElementById('table').innerHTML=html;
}
load();
</script>
</body>
</html>
