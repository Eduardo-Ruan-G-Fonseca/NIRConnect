<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8" />
<title>{{ title }}</title>
</head>
<body>
<h1>{{ title }}</h1>

{% if validation_used %}
<h2>Validação</h2>
<p>Validação: {{ validation_used }} {% if validation_used == "LOO" %}(N={{ n_splits_effective }}){% else %}(splits={{ n_splits_effective }}){% endif %}</p>
{% endif %}

{% if range_used %}
<h2>Faixa usada</h2>
<p>{{ "%.2f"|format(range_used[0]) }}–{{ "%.2f"|format(range_used[1]) }} nm</p>
{% endif %}

{% if preprocess_list %}
<h2>Pré-processadores testados</h2>
<ul>{% for p in preprocess_list %}<li>{{ p }}</li>{% endfor %}</ul>
{% endif %}

{% if best %}
<h2>Melhor modelo</h2>
<table border="1" cellspacing="0" cellpadding="3">
<tr><th>Pré-processo</th><th>VL</th><th>Métrica</th><th>Valor</th></tr>
{% if best_metrics_rows %}
{% for metric in best_metrics_rows %}
<tr><td>{{ best.preprocess }}</td><td>{{ best.n_components }}</td><td>{{ metric.name }}</td><td>{{ metric.value }}</td></tr>
{% endfor %}
{% endif %}
</table>
{% endif %}

{% if per_class_rows %}
<h3>Métricas por classe</h3>
<table border="1" cellspacing="0" cellpadding="3">
<tr><th>Classe</th><th>Precisão</th><th>Revocação</th><th>F1</th><th>Suporte</th></tr>
{% for row in per_class_rows %}
<tr><td>{{ row.label }}</td><td>{{ row.precision }}</td><td>{{ row.recall }}</td><td>{{ row.f1 }}</td><td>{{ row.support }}</td></tr>
{% endfor %}
</table>
{% endif %}

{% if curves_plot %}
<h2>{{ curves_title }}</h2>
<img src="{{ curves_plot }}" alt="Curvas" />
{% endif %}

</body>
</html>
